<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§å¸ˆè¨€</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            font-family: 'æ¥·ä½“', 'KaiTi', 'åæ–‡æ¥·ä½“', 'STKaiti', serif;
            
            /* è‡ªå®šä¹‰æ¸å˜èƒŒæ™¯ */
            background: linear-gradient(135deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #f093fb 50%, 
                #f5576c 75%, 
                #4facfe 100%
            );
            
            /* æ·»åŠ èƒŒæ™¯çº¹ç† */
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 0%, transparent 50%);
            background-attachment: fixed;
            
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 800px;
            width: 100%;
            text-align: center;
        }
        
        /* æ ‡é¢˜æ ·å¼ */
        h1 {
            font-family: 'æ¥·ä½“', 'KaiTi', 'åæ–‡æ¥·ä½“', 'STKaiti', serif;
            font-size: 3.5em;
            color: #000000;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.3);
            font-weight: bold;
            letter-spacing: 2px;
        }
        
        /* è¯­å½•æ–‡æœ¬æ¡† */
        .quote-container {
            background: rgba(248, 248, 248, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 30px 0;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .quote-container:hover {
            background: rgba(250, 250, 250, 0.9);
            transform: translateY(-2px);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }
        
        /* è¯­å½•æ–‡å­— */
        .quote-text {
            font-size: 1.8em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 20px;
            font-weight: 300;
            letter-spacing: 1px;
            font-family: 'æ¥·ä½“', 'KaiTi', 'åæ–‡æ¥·ä½“', 'STKaiti', serif;
        }
        
        /* è¯­å½•å‡ºå¤„ */
        .quote-source {
            font-size: 1.1em;
            color: #666;
            font-style: italic;
            margin-bottom: 25px;
            font-family: 'æ¥·ä½“', 'KaiTi', 'åæ–‡æ¥·ä½“', 'STKaiti', serif;
        }
        
        /* æ”¶è—çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .favorite-indicator {
            position: absolute;
            top: 15px;
            right: 20px;
            color: #ff6b6b;
            font-size: 1.5em;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .favorite-indicator.show {
            opacity: 1;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .btn {
            background: transparent;
            color: #000000;
            border: 2px solid rgba(255, 255, 255, 0.5);
            padding: 10px 20px;
            font-size: 0.9em;
            font-family: 'æ¥·ä½“', 'KaiTi', 'åæ–‡æ¥·ä½“', 'STKaiti', serif;
            border-radius: 20px;
            cursor: pointer;
            margin: 8px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.8);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(0px);
        }
        
        .btn.favorited {
            color: #ff6b6b;
            border-color: #ff6b6b;
        }
        
        /* æ”¶è—åˆ—è¡¨æ ·å¼ */
        .favorites-section {
            margin-top: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }
        
        .favorites-header {
            color: #000;
            font-size: 1.3em;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .favorites-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .favorite-item {
            background: rgba(255, 255, 255, 0.6);
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .favorite-item:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: translateX(5px);
        }
        
        .favorite-item .quote {
            color: #333;
            font-size: 1em;
            margin-bottom: 5px;
        }
        
        .favorite-item .source {
            color: #666;
            font-size: 0.9em;
        }
        
        .hidden {
            display: none;
        }
        
        /* åˆ†äº«æˆåŠŸæç¤º */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(76, 175, 80, 0.9);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }
            
            .quote-text {
                font-size: 1.4em;
            }
            
            .quote-container {
                padding: 30px 20px;
                margin: 20px 10px;
            }
            
            .favorites-section {
                margin-top: 30px;
                padding: 15px;
            }
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>å¤§å¸ˆè¨€</h1>
        
        <div class="quote-container fade-in" id="quoteContainer">
            <div class="favorite-indicator" id="favoriteIndicator">â™¥</div>
            <div class="quote-text" id="quoteText">"æŠŠé¥­å€’è¿›é”…äº†ï¼Œå…¨èº«å¿ƒåƒè¿™ä¸ª"</div>
            <div class="quote-source" id="quoteSource">â€”â€”é£è¯­ï¼ˆå¦ˆï¼‰</div>
        </div>
        
        <div class="button-group">
            <button class="btn" id="changeBtn">âŸ² æ¢ä¸€å¥</button>
            <button class="btn" id="favoriteBtn">â™¡ æ”¶è—</button>
            <button class="btn" id="shareBtn">â†‘ åˆ†äº«</button>
        </div>
        
        <!-- æ”¶è—åˆ—è¡¨åŒºåŸŸ -->
        <div class="favorites-section" id="favoritesSection">
            <div class="favorites-header">
                <span>æˆ‘çš„æ”¶è— (<span id="favoriteCount">0</span>)</span>
                <button class="btn" id="clearBtn" style="font-size: 0.8em; padding: 5px 12px;">æ¸…ç©º</button>
            </div>
            <div class="favorites-list" id="favoritesList">
                <p style="color: #666; text-align: center; margin: 20px 0;">è¿˜æ²¡æœ‰æ”¶è—çš„è¯­å½•</p>
            </div>
        </div>
    </div>
    
    <!-- é€šçŸ¥æç¤º -->
    <div class="notification" id="notification">æ“ä½œæˆåŠŸï¼</div>

    <script>
        // è¯­å½•æ•°æ®åº“
    var quotesData = [
        // é£è¯­ï¼ˆå¦ˆï¼‰
            {
                text: "\"å¤ªå¤ªæ­£åœ¨å¥‹ç¬”ç–¾ä¹¦ä¸­\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"ç£•æ‹‰äº†\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"æƒ³åƒç”œçš„\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"ä½è„‚é«˜è›‹ç™½\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"ç¡æ™•è¿‡å»äº†ï¼‰\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"è¿™è¾¹çš„ç‚’é¥­å°‘æœ‰ä»¤æˆ‘æ»¡æ„çš„\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"çœ‹ç€å¾ˆæ™®ğŸ˜§\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"æˆ‘å»å¤©å¤©ä¹°ä¸ªä¸œè¥¿ä¸è¡Œï¼Ÿ\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"æˆ‘ä¹Ÿæƒ³è¦\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"å—œå­¦è¿™ä¸€å—\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"ç½—ç‘èœåˆåƒå®Œäº†\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"è¿™ä¸ªæ•°æ®æ•´ç†çœŸè¯¥èƒŒ\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"æˆ‘è¦å‘æ‰€æœ‰äººå®‰åˆ©cv\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
          
            {
                text: "\"é»‘é“å¤§å°å§\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"å‘ƒè¿™ç¡®å®ï¼Œæˆ‘æ˜¯äºº\"",
                source: "â€”â€”é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"å¦ˆå®¶éª‘\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"é»„å§ä¸æ¯”ä»–ä¼˜ç§€ä¸€äº¿å€\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"A9åªè·ŸA9ç©\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
           
            {
                text: "\"ä½ æ˜¯ä»–å”¯ä¸€çš„è½¯è‚‹\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"æŠŠä¸¤ä¸ªäººå¸¦è¿›å©šå§»çš„ä¸æ˜¯çˆ±æƒ…\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"å“ˆå‰ç±³çº³åŒ—è·¯å¤šå“ˆå‰å¡å“ˆå‰\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"ä»Šå¤©åˆç¡æ™•æ™•\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"ç»äº†(*â‰§Ï‰â‰¦)\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            {
                text: "\"æˆ‘tmæœäº†\"",
                source: "â€”â€” lorry"
            },
            {
                text: "\"æ™šä¸Šæœ‰äººå»Coleså—\"",
                source: "â€”â€” lorry"
            },
            {
                text: "\"è¿™ç ´åœ°æ–¹çœŸé­ç½ª\"",
                source: "â€”â€” lorry"
            },
            {
                text: "\"imlè·Ÿå¤©ä¹¦ä¸€æ ·\"",
                source: "â€”â€” lorry"
            },
            {
                text: "\"èµ¶èµ°äº†\"",
                source: "â€”â€” lorry"
            },
            {
                text: "\"åˆ«å†™äº† æˆ‘å®³æ€•\"",
                source: "â€”â€” å®‰å®‰"
            },
            {
                text: "\"è¿™é¸¡è¹²åœ¨é˜³å°ä¸€ä¸ªå¤šå°æ—¶äº†\"",
                source: "â€”â€” å®‰å®‰"
            },
            {
                text: "\"æˆ‘å’Œé¸¡æƒ…æŠ•æ„åˆé»˜å¥‘åè¶³\"",
                source: "â€”â€” å®‰å®‰"
            },
            {
                text: "\"è¿™ä»€ä¹ˆå•Šï¼\"",
                source: "â€”â€” å®‰å®‰"
            },
            {
                text: "\"åˆ«æŠ•æ²³å•Šæå¸ˆå‚…\"",
                source: "â€”â€” CCC"
            },
            {
                text: "\"ç¬‘é¼ ï¼Œæ¨äº†\"",
                source: "â€”â€” CCC"
            },
            {
                text: "\"éš¾é¡¶\"",
                source: "â€”â€” CCC"
            },
            {
                text: "\"æˆ‘è¦åƒè€å­ä¸€æ ·ç˜¦17æ–¤\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"ç¬‘é¼ ï¼Œæ¨äº†\"",
                source: "â€”â€” CCC"
            },
            
            // é»„
            {
                text: "\"æˆ‘åƒäº†\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"æˆ‘è¦åƒæˆ‘è¦åƒ\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"æˆ‘ä¸æ˜¯é»„çŸ³æŸ±\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"â€œæŸ±å­ï¼Œæ™šä¸Šæ¥æˆ‘å®¶ä¿®ç”µæ‰‡ï¼Œä½ å«‚å­ä¸åœ¨å®¶â€\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"â€œå°†å†›ï¼Œå¤«äººå·²ç»è¢«æ‚¨ä»å—æ´‹å‘é…åˆ°å ªåŸ¹æ‹‰ä¸¤å¹´äº†ã€‚â€â€œé£è¯­è®¤é”™äº†å—ï¼Ÿâ€â€œæ²¡æœ‰ï¼Œä»–å·²ç»åœ¨å ªåŸ¹æ‹‰æˆç«‹å¦ˆå®¶å†›å‡†å¤‡æ”»æ‰“å—æ´‹äº†ã€‚â€\"",
                source: "â€”â€” é»„1å§"
            },
          
            {
                text: "\"ç‰›è‚‰\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"æ˜¯ä¸æ˜¯æˆ‘èˆ”å¾—å¤ªæ˜æ˜¾äº†ï¼ˆæ•‘å‘½\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"æˆ‘ä»¬è¿™æ˜¯ç¥ç»ç—…é™¢\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"ä¸–ç•Œçº·çº·æ‰°æ‰°ï¼Œé£è¯­å¤§å±•æ‹³è„š\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"æ²¡å…«å¦ ä¸ç”¨ç¿»äº†\"",
                source: "â€”â€” é»„1å§"
            },
        
            {
                text: "\"æˆ‘åˆåœ¨èˆ”jack\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"æŠŠæˆ‘å¼„è¿›å»\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"å‡†å¤‡å¼€èˆ”\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"çˆ½æ‰“äº†\"",
                source: "â€”â€” é»„1å§"
            },
            {
                text: "\"æˆ‘æ˜¯ç¤¾ææ–‡é™å†…å‘å°å¥³å­©\"",
                source: "â€”â€” é»„1å§"
            },
            
            // èƒ¡å¸ˆå‚…
            {
                text: "\"æ¾³å›½ç«‹ä¹Ÿæ˜¯å›½ç«‹\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"ä»¥åå®¶äººä»¬å¯Œè´µäº†å‹¿å¿˜æˆ‘\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"ç§Ÿçš„æˆ¿å­è¦è¢«å–äº†\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"æ¯•ç«Ÿæˆ‘ä¹Ÿä¸å­¦\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },    
            {
                text: "\"æƒ³æŠ±å¤§è…¿çš„ä¸€å¤©\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"æ˜¨æ™šåšäº†ä¸€åŠï¼Œå‘ç°æœ‰å‡ ä¸ªæ•°æ®è¿˜è·‘é”™äº†\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"ä»€ä¹ˆç¥ç§˜ç»„ç»‡\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"æƒ³ä¸å‡ºä¸€å‘¨ä¸åƒç‰›è‚‰çš„æ—¥å­\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"å¦ˆå»å½“upå§\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            
            // æ€ç»´æ–¹æ³•ç±»
            {
                text: "\"å’‹é•‡å¤šæ¶ˆæ¯\"",
                source: "â€”â€” èƒ¡å¸ˆå‚…"
            },
            {
                text: "\"å°‘æ¥ä¸€å¤©æˆ‘æ”¹å§“çŒªå¤´\"",
                source: "â€”â€” æå¸ˆå‚…"
            },
            {
                text: "\"æˆ‘å·²å°±è¯»å°¼èµ«é²å¤§å­¦çš„å›½é™…å…³ç³»å­¦é™¢\"",
                source: "â€”â€” æå¸ˆå‚…"
            },
            {
                text: "\"zlå¤ªå‡ºç”Ÿäº†\"",
                source: "â€”â€” æå¸ˆå‚…"
            },
            {
                text: "\"çœŸè¯¥ç‹ ç‹ æ§åˆ¶ä»–äº†\"",
                source: "â€”â€” æå¸ˆå‚…"
            },
        
            {
                text: "\"ç”·åŒæ€§æ‹\"",
                source: "â€”â€” æå¸ˆå‚…"
            },
            {
                text: "\"æˆ˜æ–—å¼€å§‹è¯´æ˜¯\"",
                source: "â€”â€” æå¸ˆå‚…"
            },
            {
                text: "\"å°å°å›¢ä½“ï¼\"",
                source: "â€”â€” æå¸ˆå‚…"
            },
            {
                text: "\"åäº† è¢«æ­£ä¸»æŠ“åŒ…äº†\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"æˆ‘ä¸Šå­¦æœŸæ²‰é»˜å¦‚æ°´\"",
                source: "â€”â€” é¸¡"
            },
           
            {
                text: "\"å’±ä»¬çœŸçš„ç”Ÿé”™å¹´ä»£äº†\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"æˆ‘æ˜¯å«¡ç³»\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"å¥½é¥¿å•Šæ€ä¹ˆåŠ\"",
                source: " â€”â€” é¸¡"
            },
            {
                text: "\"æ˜¯ä¸æ˜¯è£…è´§æ›´å®¹æ˜“æˆåŠŸâ€¦â€¦â€¦â€¦\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"æ˜¯ä¸æ˜¯è£…è´§æ›´å®¹æ˜“æˆåŠŸâ€¦â€¦â€¦â€¦\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"å¦ˆå®¶å¸®\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"æ¾³æ´²ä½ å®³æˆ‘å¤ªæ·±\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"æˆ‘ä»Šå¤©å¸¦äº†èƒ¡ç¬”å»å’Œæˆ‘ä»¬ä¸‰ç¬”å›¢èš\"",
                source: "â€”â€” é¸¡"
            },
           
            {
                text: "\"ä¸€çœ‹å¦ˆå¸ˆå‚…çš„å‰ç¨‹ äº®å¾—æˆ‘çä¸å¼€çœ¼\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"ä¸ç®¡äº†æ˜å¤©è¿›æ”»æ¸¯æ–°\"",
                source: "â€”â€” é¸¡"
            },
            {
                text: "\"offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1offer+1\"",
                source: "â€”â€” é£è¯­ï¼ˆå¦ˆï¼‰"
            },
            
        ]

            

        
        
        var currentQuoteIndex = 0;
        var favorites = [];
        
        // åˆå§‹åŒ–
        function init() {
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ”¶è—
            try {
                var saved = localStorage.getItem('maoquotes_favorites');
                if (saved) {
                    favorites = JSON.parse(saved);
                }
            } catch (e) {
                console.log('åŠ è½½æ”¶è—å¤±è´¥:', e);
            }
            
            updateFavoriteDisplay();
            renderFavoritesList();
            
            // ç»‘å®šæŒ‰é’®äº‹ä»¶
            document.getElementById('changeBtn').onclick = changeQuote;
            document.getElementById('favoriteBtn').onclick = toggleFavorite;
            document.getElementById('shareBtn').onclick = shareQuote;
            document.getElementById('clearBtn').onclick = clearAllFavorites;
            
            // é”®ç›˜äº‹ä»¶
            document.addEventListener('keydown', function(event) {
                if (event.code === 'Space') {
                    event.preventDefault();
                    changeQuote();
                }
            });
            
            console.log('æ¯›é€‰è¯­å½•Botåˆå§‹åŒ–å®Œæˆ');
        }
        
        // æ¢ä¸€å¥è¯­å½•
        function changeQuote() {
            console.log('æ¢ä¸€å¥è¢«ç‚¹å‡»');
            
            // éšæœºé€‰æ‹©è¯­å½•ï¼Œé¿å…é‡å¤
            var newIndex;
            do {
                newIndex = Math.floor(Math.random() * quotesData.length);
            } while (newIndex === currentQuoteIndex && quotesData.length > 1);
            
            currentQuoteIndex = newIndex;
            var quote = quotesData[currentQuoteIndex];
            
            // è·å–é¡µé¢å…ƒç´ 
            var container = document.getElementById('quoteContainer');
            var textElement = document.getElementById('quoteText');
            var sourceElement = document.getElementById('quoteSource');
            
            // æ·»åŠ æ·¡å‡ºæ•ˆæœ
            container.style.opacity = '0.3';
            container.style.transform = 'translateY(10px)';
            
            // å»¶è¿Ÿæ›´æ–°å†…å®¹
            setTimeout(function() {
                textElement.textContent = quote.text;
                sourceElement.textContent = quote.source;
                
                updateFavoriteDisplay();
                
                // æ·¡å…¥æ•ˆæœ
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
            }, 200);
        }
        
        // åˆ‡æ¢æ”¶è—çŠ¶æ€
        function toggleFavorite() {
            console.log('æ”¶è—è¢«ç‚¹å‡»');
            
            var quoteId = currentQuoteIndex;
            var favoriteBtn = document.getElementById('favoriteBtn');
            
            var index = favorites.indexOf(quoteId);
            if (index > -1) {
                // å–æ¶ˆæ”¶è—
                favorites.splice(index, 1);
                favoriteBtn.textContent = 'â™¡ æ”¶è—';
                favoriteBtn.classList.remove('favorited');
                showNotification('å·²å–æ¶ˆæ”¶è—');
            } else {
                // æ·»åŠ æ”¶è—
                favorites.push(quoteId);
                favoriteBtn.textContent = 'â™¥ å·²æ”¶è—';
                favoriteBtn.classList.add('favorited');
                showNotification('æ”¶è—æˆåŠŸï¼');
            }
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            try {
                localStorage.setItem('maoquotes_favorites', JSON.stringify(favorites));
            } catch (e) {
                console.log('ä¿å­˜æ”¶è—å¤±è´¥:', e);
            }
            
            updateFavoriteDisplay();
            renderFavoritesList();
        }
        
        // æ›´æ–°æ”¶è—çŠ¶æ€æ˜¾ç¤º
        function updateFavoriteDisplay() {
            var favoriteBtn = document.getElementById('favoriteBtn');
            var favoriteIndicator = document.getElementById('favoriteIndicator');
            
            if (favorites.indexOf(currentQuoteIndex) > -1) {
                favoriteBtn.textContent = 'â™¥ å·²æ”¶è—';
                favoriteBtn.classList.add('favorited');
                favoriteIndicator.classList.add('show');
            } else {
                favoriteBtn.textContent = 'â™¡ æ”¶è—';
                favoriteBtn.classList.remove('favorited');
                favoriteIndicator.classList.remove('show');
            }
            
            document.getElementById('favoriteCount').textContent = favorites.length;
        }
        
        // æ¸²æŸ“æ”¶è—åˆ—è¡¨
        function renderFavoritesList() {
            var favoritesList = document.getElementById('favoritesList');
            
            if (favorites.length === 0) {
                favoritesList.innerHTML = '<p style="color: #666; text-align: center; margin: 20px 0;">è¿˜æ²¡æœ‰æ”¶è—çš„è¯­å½•</p>';
                return;
            }
            
            var html = '';
            for (var i = 0; i < favorites.length; i++) {
                var quoteId = favorites[i];
                var quote = quotesData[quoteId];
                html += '<div class="favorite-item" data-quote-id="' + quoteId + '">';
                html += '<div class="quote">' + quote.text + '</div>';
                html += '<div class="source">' + quote.source + '</div>';
                html += '</div>';
            }
            
            favoritesList.innerHTML = html;
            
            // ä¸ºæ”¶è—é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
            var items = favoritesList.getElementsByClassName('favorite-item');
            for (var i = 0; i < items.length; i++) {
                items[i].onclick = function() {
                    var quoteId = parseInt(this.getAttribute('data-quote-id'));
                    showQuote(quoteId);
                };
            }
        }
        
        // æ˜¾ç¤ºæŒ‡å®šè¯­å½•
        function showQuote(quoteId) {
            currentQuoteIndex = quoteId;
            var quote = quotesData[quoteId];
            
            document.getElementById('quoteText').textContent = quote.text;
            document.getElementById('quoteSource').textContent = quote.source;
            
            updateFavoriteDisplay();
            
            // æ»šåŠ¨åˆ°è¯­å½•åŒºåŸŸ
            document.getElementById('quoteContainer').scrollIntoView({
                behavior: 'smooth'
            });
        }
        
        // æ¸…ç©ºæ‰€æœ‰æ”¶è—
        function clearAllFavorites() {
            if (favorites.length === 0) {
                showNotification('æ”¶è—åˆ—è¡¨å·²ç»æ˜¯ç©ºçš„');
                return;
            }
            
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ”¶è—å—ï¼Ÿ')) {
                favorites = [];
                try {
                    localStorage.setItem('maoquotes_favorites', JSON.stringify(favorites));
                } catch (e) {
                    console.log('ä¿å­˜å¤±è´¥:', e);
                }
                updateFavoriteDisplay();
                renderFavoritesList();
                showNotification('å·²æ¸…ç©ºæ”¶è—åˆ—è¡¨');
            }
        }
        
        // åˆ†äº«è¯­å½•
        function shareQuote() {
            console.log('åˆ†äº«è¢«ç‚¹å‡»');
            
            var currentQuote = quotesData[currentQuoteIndex];
            var shareText = currentQuote.text + '\n\n' + currentQuote.source + '\n\næ¥è‡ªï¼šå®¡ç¾ç§¯ç´¯--å¤§å¸ˆè¨€';
            
            // å°è¯•å¤åˆ¶åˆ°å‰ªè´´æ¿
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(function() {
                    showNotification('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                }).catch(function() {
                    fallbackCopy(shareText);
                });
            } else {
                fallbackCopy(shareText);
            }
        }
        
        // é™çº§å¤åˆ¶æ–¹æ³•
        function fallbackCopy(text) {
            var textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.left = "-999999px";
            textArea.style.top = "-999999px";
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                showNotification('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            } catch (err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('åˆ†äº«å†…å®¹ï¼š\n\n' + text);
            }
            
            document.body.removeChild(textArea);
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            var notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(function() {
                notification.classList.remove('show');
            }, 2000);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>
